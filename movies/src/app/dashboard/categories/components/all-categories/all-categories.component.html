<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12 border-bottom d-flex justify-content-between">
      <div>
        <h1 class="m-0">All Categories</h1>
      </div>
      <div>
        <button [routerLink]="['/categories/create-categorie']" type="button" class="btn btn-primary">Create Categorie</button>
      </div>
    </div>
  </div>
</div>

<div class="container mt-4">
  <table class="table align-middle mb-0 bg-white">
    <thead>
      <tr>
        <th class="col-10">Categorie Name</th>
        <th class="col-2 text-right">Actions</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngIf="categorieList.length > 0; else noCategories">
        <tr *ngFor="let categorie of categorieList">
          <td class="col-9">{{ categorie.name }}</td>
          <td class="col-3 text-right">
            <a [routerLink]="'/categories/edit-categorie/' + categorie.id" [queryParams]="{ categorieId: categorie.id }" >
              <i class="fa fa-pencil green p-2 pointer"></i>
            </a>
            <i class="fa fa-trash text-danger"(click)="deleteCategorie(categorie)" style="cursor: pointer;">
            </i>

          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>

<!-- Delete modal -->
<div *ngIf="deleteCategorieModal" class="modal fade show" tabindex="-1" role="dialog" aria-labelledby="deleteCategorieModalLabel" aria-hidden="true" style="display: block;">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteCategorieModalLabel">Delete Categorie</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeDeleteCategorieModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to proceed with the deletion of <strong>{{ clickedCategorieData.name }}</strong>?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="confirmDeleteCategorie()">Delete</button>
        <button type="button" class="btn btn-secondary" (click)="closeDeleteCategorieModal()">Cancel</button>
      </div>
    </div>
  </div>
</div>


<ng-template #noCategories>
  <tr>
    <td colspan="2" class="text-center">No categories found</td>
  </tr>
</ng-template>
